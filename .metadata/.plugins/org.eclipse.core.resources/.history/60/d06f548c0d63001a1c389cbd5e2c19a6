package personal;

import java.util.ArrayList;
import java.util.List;

public class Jugador extends Persona implements Familiarizable{
	
	private Licencia licencia;
	private Equipo equipo;
	private Cuota<Licencia> cuotaJugador;
	private List<Familiar> familiares;
	
	public Jugador(String nombre, String sexo, int edad) {
		super(nombre, sexo, edad);
		if (edad < 4) {
			licencia = Licencia.SINLICENCIA;
		}else if (edad > 3 & edad < 7) {
			licencia = Licencia.DEBUTANTE;
		} else if (edad > 6 & edad < 9) {
			licencia = Licencia.PREBENJAMIN;
		} else if (edad > 8 & edad < 11) {
			licencia = Licencia.BENJAMIN;
		} else if (edad > 10 & edad < 13) {
			licencia = Licencia.ALEVIN;
		} else if (edad > 12 & edad < 15) {
			licencia = Licencia.INFANTIL;
		} else if (edad > 14 & edad < 17) {
			licencia = Licencia.CADETE;
		} else if (edad > 16 & edad < 19) {
			licencia = Licencia.JUVENIL;
		} else if (edad > 18) {
			licencia = Licencia.AFICIONADO;
		} else {
			licencia = Licencia.PROFESIONAL;
		}
		
		cuotaJugador = new CuotaJugador(getLicencia());
		familiares = new ArrayList<Familiar>();
	}

	public Licencia getLicencia() {
		return licencia;
	}

	public Equipo getEquipo() {
		return equipo;
	}
	private void setEquipo (Equipo equipo) {
		this.equipo = equipo;
	}
	
	public Cuota<Licencia> getCuotaJugador() {
		return cuotaJugador;
	}

	@Override
	public List<Familiar> getFamiliares() {
	
		return familiares;
	}
	
	public boolean tieneEquipo() {
		
		return !getEquipo().equals(null);
	}
	
	public void cambiarEquipo (Equipo otroEquipo) {
		if (tieneEquipo()) {
			setEquipo(otroEquipo);
		}
	}
	
	public void asignarEquipo (Equipo equipo) {
		if (!tieneEquipo()) {
			setEquipo(equipo);
		} else {
			cambiarEquipo(equipo);
		}
				
	}
	
	public int actualizarEdad() {
		 setEdad(getEdad() + 1);
		return getEdad();
	}
	
	public boolean agregarFamiliar (Familiar familiar) {
		
		return getFamiliares().add(familiar);
	}
	
	public boolean eliminarFamiliar (Familiar familiar) {
		
		return getFamiliares().remove(familiar);
	}
	
}
